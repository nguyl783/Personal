<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>PDX trip May 2023</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
    #map {
        position: fixed;
        width: 50%;
    }
    #features {
        width: 50%;
        margin-left: 50%;
        font-family: sans-serif;
        overflow-y: scroll;
        background-color: #fafafa;
    }
    section {
        padding: 25px 50px;
        line-height: 25px;
        border-bottom: 1px solid #ddd;
        opacity: 0.25;
        font-size: 25px;
    }
    section.active {
        opacity: 1;
    }
    section:last-child {
        border-bottom: none;
        margin-bottom: 200px;
    }
</style>

<div id="map"></div>
<div id="features">
    <section id="eugene-amtrak" class="active">
        <h3>Eugene Amtrak Station</h3>
        <p>
            <br>
            <br>
            <br>
            Bus leaves at roughly 6:15 PM
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="union-station">
        <h3>Portland Union Station</h3>
        <p>
            <br>
            <br>
            <br>
            Arrive in Portland at roughly 8:55 PM
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="home">
        <h3>Casa de Lauren</h3>
        <p>
            <br>
            <br>
            <br>
            Home base!
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="bakery">
        <h3>Tous Les Jours</h3>
        <p>
            <br>
            <br>
            <br>
            8:30 AM: Get snackies and food for Sunday morning
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="stripnguyeners">
        <h3>StripNguyener Home</h3>
        <p>
            <br>
            <br>
            <br>
            9 AM: Breakfast at the StripNguyeners: Ube Mochi Panckaes/Breakfast Sandos. Study time. Hang with Arlo.
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="bamboo">
        <h3>Bamboo Sushi</h3>
        <p>
            <br>
            <br>
            <br>
            12:30 PM: LUNCHHHHHHH. Leave at 12ish
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="tea">
        <h3>Bubble N Tea</h3>
        <p>
            <br>
            <br>
            <br>
            <a class="content-link" href="https://food.google.com/chooseprovider?restaurantId=/g/11c1s11xxk&g2lbs=ADZRdku3_ld8_76VZHF7bCPwmQQQDklrH3ju_zcdts92qau5-tSOVYnm565JYCasfg7b9BdvdybZ_S9fBLy6JGnMnVgsrl-Z0eztCnrMkBYKTrN-Pr2bY54%3D&hl=en-US&gl=us&fo_m=MfohQo559jFvMUOzJVpjPL1YMfZ3bInYwBDuMfaXTPp5KXh-&utm_source=tactile&gei=Kx5wZKyFIper0PEP-Lin8Ag&ei=Kx5wZKyFIper0PEP-Lin8Ag&fo_s=OA">Menu</a>
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="shopping">
        <h3>The Streets of Tanasbourne</h3>
        <p>
            <br>
            <br>
            <br>
            <a class="content-link" href="https://www.streetsoftanasbourne.com/directory/">Available shops</a>
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="church">
        <h3>Pray for our lives</h3>
        <p>
            <br>
            <br>
            <br>
            We will have more time before church but we will leave at roughly 4:50 PM
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="union-station2">
        <h3>Portland Union Station</h3>
        <p>
            <br>
            <br>
            <br>
            Train leaves at roughly 11:10 AM. We will leave around 10:30 AM
            <br>
            <br>
            <br>
        </p>
    </section>
    <section id="eugene-amtrak2" class="active">
        <h3>Eugene Amtrak Station</h3>
        <p>
            <br>
            <br>
            <br>
            We will arrive around 1:50 PM
            <br>
            <br>
            <br>
        </p>
    </section>
</div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoibG5ndXllbjMiLCJhIjoiY2xnNWRqeGJqMDJmczNkbjk4NzhtbnN6aSJ9.O2lK1u2jRAWZ8pqFqvah-A';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v12',
        center: [-123.09269, 44.05538],
        zoom: 15.5,
        bearing: 27,
        pitch: 45
    });

    const chapters = {
        'eugene-amtrak': {
            bearing: 27,
            center: [-123.09269, 44.05538],
            zoom: 18,
            speed: 1,
        },
        'union-station': {
            duration: 6000,
            center: [-122.67673, 45.52923],
            bearing: 150,
            zoom: 18,
            speed: 1,
        },
        'home': {
            bearing: 90,
            center: [-122.92579, 45.51362],
            zoom: 18,
            speed: 1,
        },
        'bakery': {
            bearing: 90,
            center: [-122.91642, 45.534437],
            zoom: 18,
            speed: 1,
        },
        'stripnguyeners': {
            bearing: 45,
            center: [-122.94977, 45.507369],
            zoom: 18,
            speed: 1,
        },
        'bamboo': {
            bearing: 180,
            center: [-122.807025, 45.501609],
            zoom: 18,
            speed: 1,
        },
        'tea': {
            bearing: 90,
            center: [-122.80897, 45.49455],
            zoom: 18,
            speed: 1,
        }, 
        'shopping': {
            bearing: 90,
            center: [-122.87846, 45.53713],
            zoom: 18,
            speed: 1,
        },
        'church': {
            bearing: 90,
            center: [-122.817714, 45.50729],
            zoom: 18,
            speed: 1,
        },
        'union-station2': {
            duration: 6000,
            center: [-122.67673, 45.52923],
            bearing: 150,
            zoom: 18,
            speed: 1,
        },
        'eugene-amtrak2': {
            bearing: 27,
            center: [123.09269, 44.05538],
            zoom: 18,
            speed: 1,
        },
    };
    
    // popups and markers
    var popup = new mapboxgl.Popup()
                .setText("Eugene Amtrak Station");
    var marker = new mapboxgl.Marker({color:'red'})
        .setLngLat([-123.09269, 44.05538])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
   
    var popup2 = new mapboxgl.Popup()
                .setText("Portland Union Station");
    var marker2 = new mapboxgl.Marker({color:'orange'})
        .setLngLat([-122.67673, 45.52923])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
    
    var popup3 = new mapboxgl.Popup()
                .setText("Lauren's home");
    var marker3 = new mapboxgl.Marker({color:'yellow'})
        .setLngLat([-122.92579, 45.51362])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
    
    var popup4 = new mapboxgl.Popup()
                .setText("Tous Les Jour");
    var marker4 = new mapboxgl.Marker({color:'#90EE90'})
        .setLngLat([-122.91642, 45.534437])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
    
    var popup4 = new mapboxgl.Popup()
                .setText("StripNguyener Home");
    var marker4 = new mapboxgl.Marker({color:'green'})
        .setLngLat([-122.94977, 45.507369])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
    
    var popup5 = new mapboxgl.Popup()
                .setText("Bamboo Sushi");
    var marker5 = new mapboxgl.Marker({color:'#ADD8E6'})
        .setLngLat([-122.807025, 45.501609])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
    
    var popup6 = new mapboxgl.Popup()
                .setText("Bubble N Tea");
    var marker6 = new mapboxgl.Marker({color:'#00008B'})
        .setLngLat([-122.80897, 45.49455])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);
    
    var popup7 = new mapboxgl.Popup()
                .setText("Shopping");
    var marker7 = new mapboxgl.Marker({color:'#9F2B68'})
        .setLngLat([-122.87846, 45.53713])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);

    var popup8 = new mapboxgl.Popup()
                .setText("Church");
    var marker8 = new mapboxgl.Marker({color:'pink'})
        .setLngLat([-122.817714, 45.50729])
        .setPopup(popup) // popup marker name: 'popup'
        .addTo(map);

    let activeChapterName = 'eugene-amtrak';
    function setActiveChapter(chapterName) {
        if (chapterName === activeChapterName) return;

        map.flyTo(chapters[chapterName]);

        document.getElementById(chapterName).classList.add('active');
        document.getElementById(activeChapterName).classList.remove('active');

        activeChapterName = chapterName;
    }

    function isElementOnScreen(id) {
        const element = document.getElementById(id);
        const bounds = element.getBoundingClientRect();
        return bounds.top < window.innerHeight && bounds.bottom > 0;
    }

    // On every scroll event, check which element is on screen
    window.onscroll = () => {
        for (const chapterName in chapters) {
            if (isElementOnScreen(chapterName)) {
                setActiveChapter(chapterName);
                break;
            }
        }
    };
</script>

</body>
</html>